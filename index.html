<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous">
    </script>
</head>
<body>
    <script>
        let table = [
            {
                text: 'Животные',
                children: [
                    {
                        text: 'Млекопитающие',
                        children: [
                            {
                                text: 'Коровы',
                                children: []
                            },
                            {
                                text: 'Ослы',
                                children: []
                            },
                            {
                                text: 'Собаки',
                                children: []
                            },
                            {
                                text: 'Тигры',
                                children: []
                            }
                        ]
                    },
                    {
                        text: 'Другие',
                        children: [
                            {
                                text: 'Змеи',
                                children: []
                            },
                            {
                                text: 'Птицы',
                                children: []
                            },
                            {
                                text: 'Ящерицы',
                                children: []
                            }
                        ]
                    }
                ]
            },
            {
                text: 'Рыбы',
                children: [
                    {
                        text: 'Аквариумные',
                        children: [
                            {
                                text: 'Гуппи',
                                children: []
                            },
                            {
                                text: 'Скалярии',
                                children: []
                            }
                        ]
                    },
                    {
                        text: 'Морские',
                        children: [
                            {
                                text: 'Морская форель',
                                children: [{text: '1', children: [{text: '2', children: [{text: '3', children: []}]}]}]
                            }
                        ]
                    }
                ]
            }
        ];


        function getData(data) {
            let ul = $("<ul></ul>");
            for (let i = 0; i < data.length; i++) {
                let li = $("<li></li>").text(data[i].text);

                if (data[i].children.length > 0) {
                    let children = getData(data[i].children);
                    li.append(children);
                }

                ul.append(li);
            }
            return ul;
        }

        $("body").append(getData(table));

        $("li").each(function() {
            let text = $(this).clone().children().remove().end().text();
            console.log("Text: " + text + "; Count: " + $(this).find("li").length);
        });

        $('li').click(function() {
            $(this).children().toggle('slow');
            return false;
        });
    </script>
</body>
</html>